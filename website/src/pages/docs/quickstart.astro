---
import DocsLayout from "../../layouts/DocsLayout.astro";
import Callout from "../../components/docs/Callout.astro";
import Steps from "../../components/docs/Steps.astro";
import Step from "../../components/docs/Step.astro";
import CodeBlock from "../../components/docs/CodeBlock.astro";
---

<DocsLayout title="Quick Start">
  <h1>Quick Start</h1>

  <p>Get your AI Stack project running in <strong>under 5 minutes</strong>.</p>

  <Callout type="note" title="Prerequisites">
    <p>Node.js 18+, Python 3.12+, Docker & Docker Compose</p>
  </Callout>

  <Steps>
    <Step title="Create Project">
      <p>Run the interactive CLI to scaffold your project:</p>
      <CodeBlock code="npx create-ai-stack@latest my-ai-app" lang="bash" />
      <p>You'll be asked to select your preferred stack:</p>
      <ul>
        <li>
          <strong>LLM Provider:</strong> OpenAI / Anthropic / Gemini / Ollama
        </li>
        <li><strong>Vector DB:</strong> Qdrant / Weaviate / pgvector</li>
        <li><strong>Auth:</strong> Clerk / JWT</li>
      </ul>
    </Step>

    <Step title="Configure Environment">
      <p>
        The CLI creates <code>.env</code> files with sensible defaults. Add your API
        keys:
      </p>
      <CodeBlock
        code={`# apps/backend/.env
LLM_PROVIDER=openai
OPENAI_API_KEY=sk-...

VECTOR_DB_PROVIDER=qdrant
QDRANT_URL=http://localhost:6333

AUTH_PROVIDER=clerk
CLERK_SECRET_KEY=sk_test_...`}
        lang="bash"
        filename=".env"
      />
    </Step>

    <Step title="Start Infrastructure">
      <p>Start the database and vector store services:</p>
      <CodeBlock
        code={`cd my-ai-app
docker-compose up -d`}
        lang="bash"
      />
    </Step>

    <Step title="Run Migrations">
      <p>Initialize the database schema:</p>
      <CodeBlock
        code={`cd apps/backend
uv run alembic upgrade head`}
        lang="bash"
      />
    </Step>

    <Step title="Start Development">
      <p>Open two terminals:</p>

      <Callout type="tip" title="Terminal 1 - Backend">
        <CodeBlock
          code={`cd apps/backend
uv run uvicorn app.main:app --reload`}
          lang="bash"
        />
      </Callout>

      <Callout type="tip" title="Terminal 2 - Frontend">
        <CodeBlock
          code={`cd apps/frontend
pnpm dev`}
          lang="bash"
        />
      </Callout>

      <p>
        Visit <a href="http://localhost:3000">http://localhost:3000</a> to see your
        app!
      </p>
    </Step>
  </Steps>

  <Callout type="important">
    <p>Make sure Docker is running before starting the infrastructure.</p>
  </Callout>
</DocsLayout>
