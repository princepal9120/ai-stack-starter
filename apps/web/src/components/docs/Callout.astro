---
interface Props {
  type?: "note" | "tip" | "warning" | "caution" | "important";
  title?: string;
}

const { type = "note", title } = Astro.props;

const config = {
  note: {
    icon: "‚ÑπÔ∏è",
    bg: "bg-blue-500/10",
    border: "border-blue-500",
    title: "Note",
    titleColor: "text-blue-400",
  },
  tip: {
    icon: "üí°",
    bg: "bg-green-500/10",
    border: "border-green-500",
    title: "Tip",
    titleColor: "text-green-400",
  },
  warning: {
    icon: "‚ö†Ô∏è",
    bg: "bg-yellow-500/10",
    border: "border-yellow-500",
    title: "Warning",
    titleColor: "text-yellow-400",
  },
  caution: {
    icon: "üö®",
    bg: "bg-red-500/10",
    border: "border-red-500",
    title: "Caution",
    titleColor: "text-red-400",
  },
  important: {
    icon: "üìå",
    bg: "bg-purple-500/10",
    border: "border-purple-500",
    title: "Important",
    titleColor: "text-purple-400",
  },
};

const { icon, bg, border, title: defaultTitle, titleColor } = config[type];
const displayTitle = title || defaultTitle;
---

<aside class={`callout my-6 rounded-lg ${bg} border-l-4 ${border} p-4`}>
  <div class="flex items-start gap-3">
    <span class="text-lg shrink-0" aria-hidden="true">{icon}</span>
    <div class="flex-1 min-w-0">
      <p class={`font-semibold ${titleColor} mb-1`}>{displayTitle}</p>
      <div class="text-slate-300 text-sm [&>p]:m-0">
        <slot />
      </div>
    </div>
  </div>
</aside>

<style>
  .callout :global(p:last-child) {
    margin-bottom: 0;
  }
  .callout :global(a) {
    color: inherit;
    text-decoration: underline;
  }
</style>
